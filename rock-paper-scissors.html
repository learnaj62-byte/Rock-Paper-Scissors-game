<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rock Paper Scissors</title>
<link href="https://fonts.googleapis.com/css2?family=Bangers&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #fef9f0;
    --ink: #1a1008;
    --rock-color: #e85d04;
    --paper-color: #2196f3;
    --scissors-color: #9c27b0;
    --win: #00c853;
    --lose: #f50057;
    --draw: #ff9800;
    --shadow: 4px 4px 0px var(--ink);
    --shadow-lg: 6px 6px 0px var(--ink);
  }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--bg);
    color: var(--ink);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
  }

  /* Halftone dot background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: radial-gradient(circle, rgba(26,16,8,0.06) 1.5px, transparent 1.5px);
    background-size: 22px 22px;
    pointer-events: none;
  }

  /* Bold diagonal stripe accent */
  body::after {
    content: '';
    position: fixed;
    top: -100px; right: -100px;
    width: 350px; height: 350px;
    background: repeating-linear-gradient(
      -45deg,
      rgba(232,93,4,0.07) 0px,
      rgba(232,93,4,0.07) 10px,
      transparent 10px,
      transparent 20px
    );
    border-radius: 50%;
    pointer-events: none;
  }

  .game {
    width: 100%;
    max-width: 680px;
    position: relative;
    z-index: 1;
  }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  .header {
    text-align: center;
    margin-bottom: 32px;
    animation: popIn 0.5s cubic-bezier(0.34,1.56,0.64,1);
  }

  .title {
    font-family: 'Bangers', cursive;
    font-size: clamp(42px, 10vw, 76px);
    letter-spacing: 0.06em;
    line-height: 0.95;
    color: var(--ink);
    text-shadow: 5px 5px 0 var(--rock-color);
    margin-bottom: 6px;
  }

  .title span { color: var(--rock-color); text-shadow: 5px 5px 0 var(--ink); }

  .subtitle {
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: var(--ink);
    opacity: 0.45;
  }

  /* ‚îÄ‚îÄ SCOREBOARD ‚îÄ‚îÄ */
  .scoreboard {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 12px;
    margin-bottom: 28px;
    align-items: center;
    animation: fadeUp 0.5s ease 0.05s both;
  }

  .score-block {
    background: white;
    border: 3px solid var(--ink);
    border-radius: 16px;
    padding: 16px 12px;
    text-align: center;
    box-shadow: var(--shadow);
  }

  .score-block.player-block { border-top: 6px solid var(--paper-color); }
  .score-block.cpu-block    { border-top: 6px solid var(--rock-color); }

  .score-name {
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: #888;
    margin-bottom: 4px;
  }

  .score-num {
    font-family: 'Bangers', cursive;
    font-size: 52px;
    letter-spacing: 0.05em;
    line-height: 1;
    color: var(--ink);
  }

  .score-block.player-block .score-num { color: var(--paper-color); }
  .score-block.cpu-block .score-num    { color: var(--rock-color); }

  .score-divider {
    font-family: 'Bangers', cursive;
    font-size: 32px;
    color: #bbb;
    letter-spacing: 0.05em;
    text-align: center;
  }

  /* ‚îÄ‚îÄ ARENA ‚îÄ‚îÄ */
  .arena {
    background: white;
    border: 3px solid var(--ink);
    border-radius: 24px;
    padding: 28px 24px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-lg);
    position: relative;
    overflow: hidden;
    animation: fadeUp 0.5s ease 0.1s both;
  }

  .arena::before {
    content: 'VS';
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Bangers', cursive;
    font-size: 64px;
    color: rgba(26,16,8,0.04);
    letter-spacing: 0.1em;
    pointer-events: none;
    line-height: 1;
    margin-top: -10px;
  }

  .combatants {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 16px;
    align-items: center;
    margin-bottom: 20px;
  }

  .combatant { text-align: center; }

  .combatant-label {
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: #aaa;
    margin-bottom: 10px;
  }

  .choice-display {
    width: 120px; height: 120px;
    border-radius: 50%;
    border: 3px solid var(--ink);
    background: #f5f0e8;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 56px;
    margin: 0 auto;
    transition: all 0.3s;
    position: relative;
    box-shadow: 3px 3px 0 var(--ink);
  }

  .choice-display.player-choice { border-color: var(--paper-color); box-shadow: 3px 3px 0 var(--paper-color); }
  .choice-display.cpu-choice    { border-color: var(--rock-color);  box-shadow: 3px 3px 0 var(--rock-color); }

  .choice-display.thinking {
    animation: thinking 0.6s ease-in-out infinite alternate;
    opacity: 0.6;
  }

  @keyframes thinking {
    from { transform: scale(0.9) rotate(-5deg); }
    to   { transform: scale(1.05) rotate(5deg); }
  }

  .choice-display.reveal {
    animation: revealPop 0.45s cubic-bezier(0.34,1.56,0.64,1);
  }

  @keyframes revealPop {
    0%   { transform: scale(0) rotate(-20deg); }
    100% { transform: scale(1) rotate(0deg); }
  }

  .choice-display.win-glow {
    border-color: var(--win);
    box-shadow: 3px 3px 0 var(--win), 0 0 24px rgba(0,200,83,0.3);
    animation: winBounce 0.5s ease;
  }

  .choice-display.lose-glow {
    border-color: var(--lose);
    box-shadow: 3px 3px 0 var(--lose), 0 0 16px rgba(245,0,87,0.2);
    opacity: 0.7;
  }

  @keyframes winBounce {
    0%   { transform: scale(1); }
    30%  { transform: scale(1.18); }
    60%  { transform: scale(0.94); }
    100% { transform: scale(1); }
  }

  .vs-badge {
    font-family: 'Bangers', cursive;
    font-size: 26px;
    color: #ccc;
    letter-spacing: 0.08em;
  }

  /* Result ribbon */
  .result-ribbon {
    text-align: center;
    padding: 12px 20px;
    border-radius: 12px;
    border: 2px solid var(--ink);
    font-family: 'Bangers', cursive;
    font-size: 26px;
    letter-spacing: 0.1em;
    min-height: 58px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.3s;
    background: #f5f0e8;
  }

  .result-ribbon.idle { color: #bbb; font-size: 18px; letter-spacing: 0.2em; }
  .result-ribbon.win  { background: rgba(0,200,83,0.1); border-color: var(--win); color: var(--win); }
  .result-ribbon.lose { background: rgba(245,0,87,0.08); border-color: var(--lose); color: var(--lose); }
  .result-ribbon.draw { background: rgba(255,152,0,0.08); border-color: var(--draw); color: var(--draw); }

  .result-ribbon.animate { animation: ribbonPop 0.4s cubic-bezier(0.34,1.56,0.64,1); }

  @keyframes ribbonPop {
    0%   { transform: scale(0.85); }
    100% { transform: scale(1); }
  }

  /* ‚îÄ‚îÄ MOVE BUTTONS ‚îÄ‚îÄ */
  .moves-label {
    text-align: center;
    font-size: 11px;
    font-weight: 800;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: #aaa;
    margin-bottom: 14px;
    animation: fadeUp 0.5s ease 0.15s both;
  }

  .moves {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 20px;
    animation: fadeUp 0.5s ease 0.2s both;
  }

  .move-btn {
    background: white;
    border: 3px solid var(--ink);
    border-radius: 20px;
    padding: 18px 10px 14px;
    cursor: pointer;
    transition: all 0.12s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
  }

  .move-btn:active { transform: translate(3px,3px); box-shadow: 1px 1px 0 var(--ink); }
  .move-btn:disabled { opacity: 0.4; cursor: not-allowed; }

  .move-btn.rock     { border-top: 5px solid var(--rock-color); }
  .move-btn.paper    { border-top: 5px solid var(--paper-color); }
  .move-btn.scissors { border-top: 5px solid var(--scissors-color); }

  .move-btn:hover:not(:disabled).rock     { background: rgba(232,93,4,0.06); transform: translateY(-3px); box-shadow: 4px 7px 0 var(--ink); }
  .move-btn:hover:not(:disabled).paper    { background: rgba(33,150,243,0.06); transform: translateY(-3px); box-shadow: 4px 7px 0 var(--ink); }
  .move-btn:hover:not(:disabled).scissors { background: rgba(156,39,176,0.06); transform: translateY(-3px); box-shadow: 4px 7px 0 var(--ink); }

  .move-icon { font-size: 40px; line-height: 1; transition: transform 0.15s; }
  .move-btn:hover:not(:disabled) .move-icon { transform: scale(1.15) rotate(-8deg); }

  .move-name {
    font-family: 'Bangers', cursive;
    font-size: 20px;
    letter-spacing: 0.1em;
    color: var(--ink);
  }

  .move-btn.rock     .move-name { color: var(--rock-color); }
  .move-btn.paper    .move-name { color: var(--paper-color); }
  .move-btn.scissors .move-name { color: var(--scissors-color); }

  /* Rules badge */
  .beats-badge {
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.08em;
    color: #aaa;
    text-transform: uppercase;
  }

  /* ‚îÄ‚îÄ HISTORY ‚îÄ‚îÄ */
  .history-panel {
    background: white;
    border: 3px solid var(--ink);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: var(--shadow);
    animation: fadeUp 0.5s ease 0.25s both;
  }

  .history-header {
    padding: 10px 18px;
    background: var(--ink);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .history-title {
    font-family: 'Bangers', cursive;
    font-size: 18px;
    letter-spacing: 0.12em;
    color: white;
  }

  .clear-btn {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 6px;
    padding: 4px 10px;
    font-family: 'Nunito', sans-serif;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.5);
    cursor: pointer;
    transition: all 0.15s;
  }

  .clear-btn:hover { border-color: rgba(255,255,255,0.6); color: white; }

  .history-list {
    display: flex;
    flex-direction: column;
    max-height: 200px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: #ddd transparent;
  }

  .history-empty {
    padding: 20px;
    text-align: center;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: #ccc;
  }

  .history-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 18px;
    border-bottom: 1px solid #f0f0f0;
    animation: slideRight 0.25s ease;
  }

  .history-item:last-child { border-bottom: none; }

  .history-round {
    font-size: 10px;
    font-weight: 800;
    letter-spacing: 0.1em;
    color: #bbb;
    width: 36px;
    flex-shrink: 0;
  }

  .history-moves {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
    font-size: 20px;
  }

  .history-vs { font-size: 10px; font-weight: 800; color: #ccc; }

  .history-result {
    font-family: 'Bangers', cursive;
    font-size: 15px;
    letter-spacing: 0.08em;
    padding: 3px 10px;
    border-radius: 6px;
    border: 2px solid;
    flex-shrink: 0;
  }

  .history-result.win  { color: var(--win);  border-color: var(--win);  background: rgba(0,200,83,0.08); }
  .history-result.lose { color: var(--lose); border-color: var(--lose); background: rgba(245,0,87,0.06); }
  .history-result.draw { color: var(--draw); border-color: var(--draw); background: rgba(255,152,0,0.06); }

  /* ‚îÄ‚îÄ FLASH OVERLAY ‚îÄ‚îÄ */
  .flash {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 998;
    opacity: 0;
  }

  .flash.win-flash  { background: rgba(0,200,83,0.15); }
  .flash.lose-flash { background: rgba(245,0,87,0.12); }
  .flash.draw-flash { background: rgba(255,152,0,0.10); }

  .flash.show { animation: flashAnim 0.4s ease; }

  @keyframes flashAnim {
    0%   { opacity: 0; }
    30%  { opacity: 1; }
    100% { opacity: 0; }
  }

  /* Confetti */
  .piece {
    position: fixed;
    pointer-events: none;
    z-index: 999;
    animation: pieceFall var(--d) linear var(--delay) forwards;
  }

  @keyframes pieceFall {
    0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(var(--rot)); opacity: 0; }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes popIn {
    from { opacity: 0; transform: scale(0.7); }
    to   { opacity: 1; transform: scale(1); }
  }

  @keyframes slideRight {
    from { opacity: 0; transform: translateX(-12px); }
    to   { opacity: 1; transform: translateX(0); }
  }

  /* Winning streak badge */
  .streak-badge {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 12px;
    border-radius: 100px;
    background: rgba(255,152,0,0.1);
    border: 2px solid var(--draw);
    font-size: 11px;
    font-weight: 800;
    color: var(--draw);
    letter-spacing: 0.1em;
    margin-top: 6px;
    transition: all 0.3s;
    opacity: 0;
  }

  .streak-badge.show { opacity: 1; animation: popIn 0.3s ease; }

  @media (max-width: 480px) {
    .choice-display { width: 90px; height: 90px; font-size: 42px; }
    .move-icon { font-size: 32px; }
  }
</style>
</head>
<body>

<!-- Flash overlay -->
<div class="flash" id="flash"></div>

<div class="game">

  <!-- Header -->
  <header class="header">
    <h1 class="title">ROCK <span>PAPER</span><br>SCISSORS</h1>
    <p class="subtitle">You vs. The Machine</p>
    <div style="display:flex;justify-content:center;margin-top:8px">
      <span class="streak-badge" id="streakBadge">üî• 3-WIN STREAK!</span>
    </div>
  </header>

  <!-- Scoreboard -->
  <div class="scoreboard">
    <div class="score-block player-block">
      <div class="score-name">You</div>
      <div class="score-num" id="playerScore">0</div>
    </div>
    <div class="score-divider">‚Äî vs ‚Äî</div>
    <div class="score-block cpu-block">
      <div class="score-name">CPU</div>
      <div class="score-num" id="cpuScore">0</div>
    </div>
  </div>

  <!-- Arena -->
  <div class="arena">
    <div class="combatants">
      <div class="combatant">
        <div class="combatant-label">You</div>
        <div class="choice-display" id="playerDisplay">ü§î</div>
      </div>
      <div class="vs-badge">VS</div>
      <div class="combatant">
        <div class="combatant-label">CPU</div>
        <div class="choice-display" id="cpuDisplay">ü§ñ</div>
      </div>
    </div>
    <div class="result-ribbon idle" id="resultRibbon">
      MAKE YOUR MOVE!
    </div>
  </div>

  <!-- Choose -->
  <div class="moves-label">Choose your weapon</div>
  <div class="moves">
    <button class="move-btn rock" onclick="play('rock')" id="rockBtn">
      <span class="move-icon">ü™®</span>
      <span class="move-name">Rock</span>
      <span class="beats-badge">Beats Scissors</span>
    </button>
    <button class="move-btn paper" onclick="play('paper')" id="paperBtn">
      <span class="move-icon">üìÑ</span>
      <span class="move-name">Paper</span>
      <span class="beats-badge">Beats Rock</span>
    </button>
    <button class="move-btn scissors" onclick="play('scissors')" id="scissorsBtn">
      <span class="move-icon">‚úÇÔ∏è</span>
      <span class="move-name">Scissors</span>
      <span class="beats-badge">Beats Paper</span>
    </button>
  </div>

  <!-- History -->
  <div class="history-panel">
    <div class="history-header">
      <span class="history-title">Match History</span>
      <button class="clear-btn" onclick="clearHistory()">Reset All</button>
    </div>
    <div class="history-list" id="historyList">
      <div class="history-empty" id="historyEmpty">No rounds played yet</div>
    </div>
  </div>

</div>

<script>
  const CHOICES = ['rock', 'paper', 'scissors'];
  const ICONS   = { rock: 'ü™®', paper: 'üìÑ', scissors: '‚úÇÔ∏è' };
  const BEATS   = { rock: 'scissors', paper: 'rock', scissors: 'paper' };

  let playerScore = 0, cpuScore = 0, streak = 0, roundNum = 0;
  let playing = false;

  function cpuPick() {
    return CHOICES[Math.floor(Math.random() * 3)];
  }

  function getResult(player, cpu) {
    if (player === cpu)           return 'draw';
    if (BEATS[player] === cpu)    return 'win';
    return 'lose';
  }

  function play(playerChoice) {
    if (playing) return;
    playing = true;
    setButtonsDisabled(true);

    const playerDisp = document.getElementById('playerDisplay');
    const cpuDisp    = document.getElementById('cpuDisplay');
    const ribbon     = document.getElementById('resultRibbon');

    // Reset display
    playerDisp.className = 'choice-display';
    cpuDisp.className    = 'choice-display thinking';
    playerDisp.textContent = ICONS[playerChoice];
    cpuDisp.textContent    = 'ü§î';
    ribbon.className = 'result-ribbon idle';
    ribbon.textContent = 'Thinking...';

    // Reveal after short delay
    setTimeout(() => {
      const cpuChoice = cpuPick();
      const result    = getResult(playerChoice, cpuChoice);

      cpuDisp.textContent = ICONS[cpuChoice];
      cpuDisp.className   = 'choice-display cpu-choice reveal';

      playerDisp.className = 'choice-display player-choice reveal';

      setTimeout(() => {
        applyResult(result, playerChoice, cpuChoice);
      }, 380);
    }, 700);
  }

  function applyResult(result, playerChoice, cpuChoice) {
    const playerDisp = document.getElementById('playerDisplay');
    const cpuDisp    = document.getElementById('cpuDisplay');
    const ribbon     = document.getElementById('resultRibbon');
    const flash      = document.getElementById('flash');

    roundNum++;

    if (result === 'win') {
      playerScore++;
      streak++;
      playerDisp.classList.add('win-glow');
      cpuDisp.classList.add('lose-glow');
      ribbon.className = 'result-ribbon win animate';
      ribbon.textContent = 'üèÜ You Win This Round!';
      flashScreen('win-flash');
      if (streak >= 3) spawnConfetti();
    } else if (result === 'lose') {
      cpuScore++;
      streak = 0;
      cpuDisp.classList.add('win-glow');
      playerDisp.classList.add('lose-glow');
      ribbon.className = 'result-ribbon lose animate';
      ribbon.textContent = 'üíÄ CPU Wins This Round!';
      flashScreen('lose-flash');
    } else {
      streak = 0;
      ribbon.className = 'result-ribbon draw animate';
      ribbon.textContent = "ü§ù It's a Draw!";
      flashScreen('draw-flash');
    }

    document.getElementById('playerScore').textContent = playerScore;
    document.getElementById('cpuScore').textContent    = cpuScore;

    // Streak badge
    const badge = document.getElementById('streakBadge');
    if (streak >= 3) {
      badge.textContent = `üî• ${streak}-WIN STREAK!`;
      badge.classList.add('show');
    } else {
      badge.classList.remove('show');
    }

    addHistory(roundNum, playerChoice, cpuChoice, result);

    setTimeout(() => {
      setButtonsDisabled(false);
      playing = false;
    }, 500);
  }

  function flashScreen(cls) {
    const el = document.getElementById('flash');
    el.className = `flash ${cls} show`;
    setTimeout(() => el.className = `flash ${cls}`, 400);
  }

  function addHistory(round, playerChoice, cpuChoice, result) {
    const list  = document.getElementById('historyList');
    const empty = document.getElementById('historyEmpty');
    if (empty) empty.remove();

    const item = document.createElement('div');
    item.className = 'history-item';

    const resultText = result === 'win' ? 'WIN' : result === 'lose' ? 'LOSE' : 'DRAW';
    item.innerHTML = `
      <span class="history-round">R${round}</span>
      <div class="history-moves">
        <span>${ICONS[playerChoice]}</span>
        <span class="history-vs">vs</span>
        <span>${ICONS[cpuChoice]}</span>
      </div>
      <span class="history-result ${result}">${resultText}</span>
    `;

    list.insertBefore(item, list.firstChild);
  }

  function clearHistory() {
    playerScore = 0;
    cpuScore    = 0;
    streak      = 0;
    roundNum    = 0;
    playing     = false;

    document.getElementById('playerScore').textContent = 0;
    document.getElementById('cpuScore').textContent    = 0;
    document.getElementById('streakBadge').classList.remove('show');

    const list  = document.getElementById('historyList');
    list.innerHTML = '<div class="history-empty" id="historyEmpty">No rounds played yet</div>';

    const playerDisp = document.getElementById('playerDisplay');
    const cpuDisp    = document.getElementById('cpuDisplay');
    playerDisp.className = 'choice-display';
    cpuDisp.className    = 'choice-display';
    playerDisp.textContent = 'ü§î';
    cpuDisp.textContent    = 'ü§ñ';

    const ribbon = document.getElementById('resultRibbon');
    ribbon.className = 'result-ribbon idle';
    ribbon.textContent = 'MAKE YOUR MOVE!';

    setButtonsDisabled(false);
  }

  function setButtonsDisabled(disabled) {
    ['rockBtn','paperBtn','scissorsBtn'].forEach(id => {
      document.getElementById(id).disabled = disabled;
    });
  }

  function spawnConfetti() {
    const colors = ['#e85d04','#2196f3','#9c27b0','#00c853','#ff9800','#f50057'];
    for (let i = 0; i < 55; i++) {
      const el = document.createElement('div');
      const size = 7 + Math.random() * 9;
      el.className = 'piece';
      el.style.cssText = `
        left:${Math.random()*100}vw;
        width:${size}px; height:${size}px;
        background:${colors[Math.floor(Math.random()*colors.length)]};
        --d:${1.4+Math.random()*1.6}s;
        --delay:${Math.random()*0.4}s;
        --rot:${360+Math.floor(Math.random()*360)}deg;
        border-radius:${Math.random()>0.5?'50%':'3px'};
      `;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 3500);
    }
  }

  // Keyboard shortcuts
  document.addEventListener('keydown', e => {
    if (playing) return;
    if (e.key === 'r' || e.key === 'R') play('rock');
    if (e.key === 'p' || e.key === 'P') play('paper');
    if (e.key === 's' || e.key === 'S') play('scissors');
  });
</script>
</body>
</html>
